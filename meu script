- Redz-style Hub UI (LocalScript)
-- Autor: Gerado pelo ChatGPT a pedido do usuário
-- Uso: Cole este LocalScript em StarterGui. Ele cria uma interface visual parecida com a do Redz Hub.
-- Observação: este script só cria a interface (frontend). Adicione funções e comandos nas callbacks de cada botão.

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- ====== CONFIGURAÇÕES ======
local windowName = "TiololoHub" -- nome da GUI
local defaultAccent = Color3.fromRGB(255, 64, 64) -- cor principal (você pode mudar)
local backgroundBlur = true -- aplica blur ao abrir

-- ====== UTILITÁRIOS ======
local function make(class, props)
    local obj = Instance.new(class)
    if props then
        for k, v in pairs(props) do
            if k ~= "Parent" then
                obj[k] = v
            end
        end
        if props.Parent then
            obj.Parent = props.Parent
        end
    end
    return obj
end

local function shortTween(instance, props, time)
    time = time or 0.2
    local info = TweenInfo.new(time, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tween = TweenService:Create(instance, info, props)
    tween:Play()
    return tween
end

-- ====== CRIA GUI ======
local screenGui = make("ScreenGui", {Name = windowName, Parent = playerGui, ResetOnSpawn = false})

-- Blur (opcional)
local blur
if backgroundBlur then
    blur = make("BlurEffect", {Parent = game:GetService("Lighting"), Name = windowName .. "Blur", Size = 0})
end

local mainFrame = make("Frame", {
    Name = "MainFrame",
    Parent = screenGui,
    AnchorPoint = Vector2.new(0.5, 0.5),
    Position = UDim2.new(0.5, 0, 0.5, 0),
    Size = UDim2.new(0, 900, 0, 520),
    BackgroundColor3 = Color3.fromRGB(20,20,20),
    BorderSizePixel = 0,
    Visible = true,
})

-- Sombra/outline
local shadow = make("UICorner", {Parent = mainFrame, CornerRadius = UDim.new(0, 12)})

-- Outer stroke
local stroke = make("UIStroke", {Parent = mainFrame, Thickness = 1, ApplyStrokeMode = Enum.ApplyStrokeMode.Border, Color = Color3.fromRGB(35,35,35)})

-- Header
local header = make("Frame", {
    Name = "Header",
    Parent = mainFrame,
    Size = UDim2.new(1, 0, 0, 64),
    BackgroundTransparency = 1,
})
make("UICorner", {Parent = header, CornerRadius = UDim.new(0, 12)})

local title = make("TextLabel", {
    Name = "Title",
    Parent = header,
    Position = UDim2.new(0, 20, 0, 12),
    Size = UDim2.new(0.5, -20, 0, 40),
    BackgroundTransparency = 1,
    Text = "Tiololo Hub",
    TextSize = 24,
    Font = Enum.Font.GothamBold,
    TextColor3 = Color3.fromRGB(240,240,240),
    TextXAlignment = Enum.TextXAlignment.Left,
})

-- Close button
local closeBtn = make("TextButton", {
    Name = "Close",
    Parent = header,
    AnchorPoint = Vector2.new(1, 0.5),
    Position = UDim2.new(1, -18, 0.5, 0),
    Size = UDim2.new(0, 36, 0, 36),
    BackgroundColor3 = Color3.fromRGB(40,40,40),
    BorderSizePixel = 0,
    Text = "✕",
    TextSize = 20,
    Font = Enum.Font.GothamBold,
    TextColor3 = Color3.fromRGB(220,220,220),
})
make("UICorner", {Parent = closeBtn, CornerRadius = UDim.new(0, 8)})
make("UIStroke", {Parent = closeBtn, Thickness = 1, Color = Color3.fromRGB(30,30,30)})

-- Left sidebar (tabs)
local sidebar = make("Frame", {
    Name = "Sidebar",
    Parent = mainFrame,
    Position = UDim2.new(0, 18, 0, 86),
    Size = UDim2.new(0, 220, 0, 400),
    BackgroundColor3 = Color3.fromRGB(28,28,28),
    BorderSizePixel = 0,
})
make("UICorner", {Parent = sidebar, CornerRadius = UDim.new(0, 8)})
make("UIStroke", {Parent = sidebar, Thickness = 1, Color = Color3.fromRGB(32,32,32)})

local sidebarTitle = make("TextLabel", {
    Parent = sidebar,
    Size = UDim2.new(1, -20, 0, 34),
    Position = UDim2.new(0, 10, 0, 6),
    BackgroundTransparency = 1,
    Text = "Menus",
    TextSize = 18,
    Font = Enum.Font.GothamSemibold,
    TextColor3 = Color3.fromRGB(220,220,220),
    TextXAlignment = Enum.TextXAlignment.Left,
})

local tabContainer = make("ScrollingFrame", {
    Parent = sidebar,
    Position = UDim2.new(0, 8, 0, 44),
    Size = UDim2.new(1, -16, 1, -52),
    BackgroundTransparency = 1,
    ScrollBarThickness = 6,
})
local layout = make("UIListLayout", {Parent = tabContainer, Padding = UDim.new(0, 8), SortOrder = Enum.SortOrder.LayoutOrder})

-- Content area (right)
local content = make("Frame", {
    Name = "Content",
    Parent = mainFrame,
    Position = UDim2.new(0, 250, 0, 86),
    Size = UDim2.new(1, -270, 0, 400),
    BackgroundColor3 = Color3.fromRGB(16,16,16),
    BorderSizePixel = 0,
})
make("UICorner", {Parent = content, CornerRadius = UDim.new(0, 8)})
make("UIStroke", {Parent = content, Thickness = 1, Color = Color3.fromRGB(32,32,32)})

-- Search Bar (top of content)
local searchBox = make("TextBox", {
    Name = "Search",
    Parent = content,
    Position = UDim2.new(0, 12, 0, 12),
    Size = UDim2.new(0.6, -24, 0, 36),
    BackgroundColor3 = Color3.fromRGB(24,24,24),
    BorderSizePixel = 0,
    PlaceholderText = "Procurar comandos...",
    Text = "",
    Font = Enum.Font.Gotham,
    TextSize = 16,
    TextColor3 = Color3.fromRGB(220,220,220),
})
make("UICorner", {Parent = searchBox, CornerRadius = UDim.new(0, 8)})
make("UIStroke", {Parent = searchBox, Thickness = 1, Color = Color3.fromRGB(36,36,36)})

-- Area where controls will be placed
local controlsArea = make("ScrollingFrame", {
    Name = "ControlsArea",
    Parent = content,
    Position = UDim2.new(0, 12, 0, 60),
    Size = UDim2.new(1, -24, 1, -72),
    BackgroundTransparency = 1,
    ScrollBarThickness = 8,
})
local controlsLayout = make("UIListLayout", {Parent = controlsArea, Padding = UDim.new(0, 10), SortOrder = Enum.SortOrder.LayoutOrder})
controlsLayout.VerticalAlignment = Enum.VerticalAlignment.Top

-- ====== FUNCIONALIDADE BASICA: ADICIONAR TABS E BOTOES ======
local tabs = {}
local currentTab = nil

local function createTab(name)
    local btn = make("TextButton", {
        Name = name .. "TabBtn",
        Parent = tabContainer,
        Size = UDim2.new(1, 0, 0, 40),
        BackgroundColor3 = Color3.fromRGB(30,30,30),
        BorderSizePixel = 0,
        Text = "  " .. name,
        TextXAlignment = Enum.TextXAlignment.Left,
        Font = Enum.Font.Gotham,
        TextSize = 16,
        TextColor3 = Color3.fromRGB(220,220,220),
    })
    make("UICorner", {Parent = btn, CornerRadius = UDim.new(0, 6)})
    make("UIStroke", {Parent = btn, Thickness = 1, Color = Color3.fromRGB(28,28,28)})

    btn.MouseButton1Click:Connect(function()
        -- troca de tab
        for _, t in pairs(tabs) do
            t.button.BackgroundColor3 = Color3.fromRGB(30,30,30)
        end
        btn.BackgroundColor3 = defaultAccent * 0.9
        controlsArea:ClearAllChildren()
        controlsLayout.Parent = controlsArea
        currentTab = name
    end)

    tabs[name] = {button = btn}
    return btn
end

local function createLabel(text)
    local lbl = make("TextLabel", {
        Parent = controlsArea,
        Size = UDim2.new(1, -10, 0, 24),
        BackgroundTransparency = 1,
        Text = text,
        Font = Enum.Font.GothamSemibold,
        TextSize = 16,
        TextColor3 = Color3.fromRGB(220,220,220),
        TextXAlignment = Enum.TextXAlignment.Left,
    })
    return lbl
end

local function createButton(name, callback)
    local btn = make("TextButton", {
        Parent = controlsArea,
        Size = UDim2.new(1, -10, 0, 44),
        BackgroundColor3 = Color3.fromRGB(36,36,36),
        BorderSizePixel = 0,
        Text = name,
        Font = Enum.Font.GothamBold,
        TextSize = 16,
        TextColor3 = Color3.fromRGB(240,240,240),
    })
    make("UICorner", {Parent = btn, CornerRadius = UDim.new(0, 8)})
    make("UIStroke", {Parent = btn, Thickness = 1, Color = Color3.fromRGB(28,28,28)})

    btn.MouseButton1Click:Connect(function()
        if callback then
            pcall(callback)
        end
    end)
    return btn
end

-- ====== DRAG DA JANELA ======
local dragInput, dragStart, startPos
local dragging = false

local function updateDrag(input)
    local delta = input.Position - dragStart
    mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        updateDrag(input)
    end
end)

-- ====== FUNCOES AUXILIARES VISUAIS ======
local function openUI()
    mainFrame.Visible = true
    shortTween(mainFrame, {Position = UDim2.new(0.5, 0, 0.5, 0), Size = UDim2.new(0, 900, 0, 520)}, 0.25)
    if blur then
        shortTween(blur, {Size = 24}, 0.25)
    end
end

local function closeUI()
    if blur then
        shortTween(blur, {Size = 0}, 0.18)
    end
    shortTween(mainFrame, {Position = UDim2.new(0.5, 0, 1.3, 0)}, 0.22)
    wait(0.22)
    mainFrame.Visible = false
end

closeBtn.MouseButton1Click:Connect(function()
    closeUI()
end)

-- Toggle com a tecla RightControl (apenas exemplo)
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    if input.KeyCode == Enum.KeyCode.RightControl then
        if mainFrame.Visible then
            closeUI()
        else
            openUI()
        end
    end
end)

-- Criando algumas tabs de exemplo
createTab("Main")
createTab("Player")
createTab("Admin")
createTab("Settings")

-- Seleciona a primeira tab por padrão
for name, data in pairs(tabs) do
    -- pega primeira
    currentTab = name
    data.button.BackgroundColor3 = defaultAccent * 0.9
    break
end

-- Preenche controles de exemplo para demonstrar (vai aparecer quando trocar de tab)
createLabel("Exemplos de comandos:")
createButton("TP para cima (placeholder)", function()
    warn("Executei: TP (exemplo)")
end)
createButton("Dar espada (placeholder)", function()
    warn("Executei: Sword (exemplo)")
end)

-- Função pública para adicionar botões programaticamente (use em outros scripts locais)
-- Exemplo de uso: require(script).AddButtonToTab("Admin","Kick Player", função)
local API = {}
function API.AddButtonToTab(tabName, btnName, callback)
    -- encontra tab
    if tabs[tabName] == nil then
        -- cria a tab automaticamente
        createTab(tabName)
    end
    -- se a tab é a atual, adiciona direto na área
    if currentTab == tabName then
        createButton(btnName, callback)
    else
        -- guarda um placeholder invisível (simplificação): quando usuário selecionar a tab, você deve popular.
        -- Para fins deste template, vamos apenas criar o botão mas escondido (não ideal para projetos grandes)
        local hiddenBtn = createButton(btnName, callback)
        hiddenBtn.Visible = false
    end
end

-- Exponha também para testes locais
screenGui:SetAttribute("tiololo_api", true)

return API
